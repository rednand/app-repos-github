{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport estilos from \"./estilos\";\nimport { pegarRepositoriosDoUsuario } from \"../../service/reqs/repositorios\";\nimport { useIsFocused } from \"@react-navigation/native\";\nimport { buscaUsuario, deletaUsuario } from \"../../service/reqs/usuarios\";\nimport moment from \"moment/moment\";\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport CurrencyInput from 'react-native-currency-input';\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function Repositorios(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    repo = _useState2[0],\n    setRepo = _useState2[1];\n  console.log(\"üöÄ ~ file: index.js:10 ~ Repositorios ~ repo:\", repo);\n  var estaNaTela = useIsFocused();\n  var carregarRepositorios = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var resultado = yield buscaUsuario();\n      setRepo(resultado);\n    });\n    return function carregarRepositorios() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    carregarRepositorios();\n  }, [estaNaTela]);\n  var formatoReal = new Intl.NumberFormat('pt-BR', {\n    style: 'currency',\n    currency: 'BRL'\n  });\n  var totalGastosInd1 = repo.filter(function (item) {\n    return item.nome === \"Renan\";\n  }).reduce(function (total, gasto) {\n    return total + gasto.valor;\n  }, 0);\n  var totalGastosInd2 = repo.filter(function (item) {\n    return item.nome === \"Samuel\";\n  }).reduce(function (total, gasto) {\n    return total + gasto.valor;\n  }, 0);\n  return _jsxs(View, {\n    style: estilos.container,\n    children: [_jsxs(Text, {\n      style: estilos.repositoriosTexto,\n      children: [repo.length, \" gastos inclu\\xEDdos\"]\n    }), _jsxs(View, {\n      style: {\n        width: \"100%\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"space-evenly\"\n      },\n      children: [_jsxs(View, {\n        style: {\n          borderColor: \"#156\",\n          borderWidth: 2,\n          padding: 10,\n          borderRadius: 10\n        },\n        children: [_jsx(Text, {\n          style: estilos.repositoriosTexto2,\n          children: \"Renan\"\n        }), _jsx(Text, {\n          style: {\n            fontSize: 20,\n            fontWeight: \"500\",\n            color: \"#45565F\"\n          },\n          children: formatoReal.format(totalGastosInd1)\n        })]\n      }), _jsxs(View, {\n        style: {\n          borderColor: \"#156\",\n          borderWidth: 2,\n          padding: 10,\n          borderRadius: 10\n        },\n        children: [_jsx(Text, {\n          style: estilos.repositoriosTexto2,\n          children: \"Samuel\"\n        }), _jsx(Text, {\n          children: formatoReal.format(totalGastosInd2)\n        })]\n      })]\n    }), _jsx(TouchableOpacity, {\n      style: estilos.botao,\n      onPress: function onPress() {\n        return navigation.navigate(\"Principal\");\n      },\n      children: _jsx(Text, {\n        style: estilos.textoBotao,\n        children: \"Adicionar novo gasto\"\n      })\n    }), _jsx(FlatList, {\n      data: repo,\n      style: {\n        width: \"90%\"\n      },\n      keyExtractor: function keyExtractor(repo) {\n        return repo._id;\n      },\n      renderItem: function renderItem(_ref3) {\n        var item = _ref3.item;\n        return _jsxs(View, {\n          style: {\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            alignItems: \"center\",\n            flexDirection: \"row\",\n            borderBottomColor: '#212121',\n            borderBottomWidth: 1\n          },\n          children: [_jsxs(View, {\n            style: {\n              marginBottom: 20,\n              marginTop: 20\n            },\n            children: [_jsxs(Text, {\n              style: estilos.repositorioNome,\n              children: [\"Data:\", _jsx(Text, {\n                style: estilos.repositorioDataValor,\n                children: moment(item.data).format(\"DD/MM/YYYY\")\n              })]\n            }), _jsxs(Text, {\n              style: estilos.repositorioData,\n              children: [\"Valor:\", _jsx(Text, {\n                style: estilos.repositorioDataValor,\n                children: formatoReal.format(item.valor)\n              })]\n            }), _jsxs(Text, {\n              style: estilos.repositorioData,\n              children: [\"Gasto: \", _jsx(Text, {\n                style: estilos.repositorioDataValor,\n                children: item.local\n              })]\n            }), _jsxs(Text, {\n              style: estilos.repositorioData,\n              children: [\"Quem deve:\", _jsx(Text, {\n                style: estilos.repositorioDataValor,\n                children: item.nome\n              })]\n            })]\n          }), _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return deletaUsuario(item._id).then(function () {\n                return carregarRepositorios();\n              });\n            },\n            children: _jsx(MaterialCommunityIcons, {\n              name: \"trash-can-outline\",\n              size: 24,\n              color: \"black\"\n            })\n          })]\n        });\n      }\n    })]\n  });\n}","map":{"version":3,"names":["React","useEffect","useState","Text","View","FlatList","TouchableOpacity","estilos","pegarRepositoriosDoUsuario","useIsFocused","buscaUsuario","deletaUsuario","moment","MaterialCommunityIcons","CurrencyInput","jsxs","_jsxs","jsx","_jsx","Repositorios","_ref","route","navigation","_useState","_useState2","_slicedToArray","repo","setRepo","console","log","estaNaTela","carregarRepositorios","_ref2","_asyncToGenerator","resultado","apply","arguments","formatoReal","Intl","NumberFormat","style","currency","totalGastosInd1","filter","item","nome","reduce","total","gasto","valor","totalGastosInd2","container","children","repositoriosTexto","length","width","display","flexDirection","justifyContent","borderColor","borderWidth","padding","borderRadius","repositoriosTexto2","fontSize","fontWeight","color","format","botao","onPress","navigate","textoBotao","data","keyExtractor","_id","renderItem","_ref3","alignItems","borderBottomColor","borderBottomWidth","marginBottom","marginTop","repositorioNome","repositorioDataValor","repositorioData","local","then","name","size"],"sources":["C:/projetos/app-repos-github/src/paginas/Repositorios/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Text, View, FlatList, TouchableOpacity } from \"react-native\";\r\nimport estilos from \"./estilos\";\r\nimport { pegarRepositoriosDoUsuario } from \"../../service/reqs/repositorios\";\r\nimport { useIsFocused } from \"@react-navigation/native\";\r\nimport { buscaUsuario, deletaUsuario } from \"../../service/reqs/usuarios\";\r\nimport moment from \"moment/moment\";\r\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport CurrencyInput from 'react-native-currency-input';\r\n\r\nexport default function Repositorios({ route, navigation }) {\r\n  const [repo, setRepo] = useState([]);\r\n  console.log(\"üöÄ ~ file: index.js:10 ~ Repositorios ~ repo:\", repo)\r\n  const estaNaTela = useIsFocused();\r\n\r\n  const carregarRepositorios = async () => {\r\n    const resultado = await buscaUsuario();\r\n    setRepo(resultado);\r\n  };\r\n\r\n  useEffect(() => {\r\n    carregarRepositorios();\r\n  }, [estaNaTela]);\r\n  // Formatando para Real Brasileiro\r\n  const formatoReal = new Intl.NumberFormat('pt-BR', {\r\n    style: 'currency',\r\n    currency: 'BRL',\r\n  });\r\n\r\n\r\n  const totalGastosInd1 = repo.filter((item) => item.nome === \"Renan\").reduce((total, gasto) => total + gasto.valor, 0);\r\n  const totalGastosInd2 = repo.filter((item) => item.nome === \"Samuel\").reduce((total, gasto) => total + gasto.valor, 0);\r\n\r\n  return (\r\n    <View style={estilos.container}>\r\n      <Text style={estilos.repositoriosTexto}>\r\n        {repo.length} gastos inclu√≠dos\r\n      </Text>\r\n      <View style={{ width: \"100%\", display: \"flex\", flexDirection: \"row\", justifyContent: \"space-evenly\" }}>\r\n        <View style={{\r\n          borderColor: \"#156\",\r\n          borderWidth: 2,\r\n          padding: 10,\r\n          borderRadius: 10,\r\n        }}>\r\n          <Text style={estilos.repositoriosTexto2}>Renan</Text>\r\n          <Text style={{\r\n            fontSize: 20,\r\n            fontWeight: \"500\",\r\n            color: \"#45565F\",\r\n          }}>{formatoReal.format(totalGastosInd1)}\r\n          </Text>\r\n        </View>\r\n        <View style={{\r\n          borderColor: \"#156\",\r\n          borderWidth: 2,\r\n          padding: 10,\r\n          borderRadius: 10,\r\n        }}>\r\n          <Text style={estilos.repositoriosTexto2}>Samuel</Text>\r\n          <Text>{formatoReal.format(totalGastosInd2)}\r\n          </Text>\r\n        </View>\r\n      </View>\r\n\r\n\r\n      <TouchableOpacity\r\n        style={estilos.botao}\r\n        onPress={() =>\r\n          navigation.navigate(\"Principal\")\r\n        }\r\n      >\r\n        <Text style={estilos.textoBotao}>Adicionar novo gasto</Text>\r\n      </TouchableOpacity>\r\n\r\n      <FlatList\r\n        data={repo}\r\n        style={{ width: \"90%\" }}\r\n        keyExtractor={(repo) => repo._id}\r\n        renderItem={({ item }) => (\r\n          <View style={{\r\n            display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", flexDirection: \"row\", borderBottomColor: '#212121',\r\n            borderBottomWidth: 1,\r\n          }}>\r\n            <View style={{\r\n              marginBottom: 20,\r\n              marginTop: 20,\r\n            }}>\r\n              <Text\r\n                style={estilos.repositorioNome}\r\n\r\n              >\r\n                Data:\r\n                <Text style={estilos.repositorioDataValor}>\r\n                  {moment(item.data).format(\"DD/MM/YYYY\")}\r\n                </Text>\r\n              </Text>\r\n              <Text style={estilos.repositorioData}>\r\n                Valor:\r\n                <Text style={estilos.repositorioDataValor}>\r\n                  {formatoReal.format(item.valor)}\r\n                </Text>\r\n              </Text>\r\n              <Text style={estilos.repositorioData}>\r\n                Gasto: <Text style={estilos.repositorioDataValor}>\r\n                  {item.local}\r\n                </Text>\r\n              </Text>\r\n              <Text style={estilos.repositorioData}>\r\n                Quem deve:\r\n                <Text style={estilos.repositorioDataValor}>\r\n                  {item.nome}\r\n                </Text>\r\n              </Text>\r\n            </View>\r\n            <TouchableOpacity\r\n              onPress={() => deletaUsuario(item._id).then(() => carregarRepositorios())}>\r\n              <MaterialCommunityIcons name=\"trash-can-outline\" size={24} color=\"black\" />\r\n            </TouchableOpacity>\r\n          </View>\r\n        )}\r\n      />\r\n    </View>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}