{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { useQuery, useMutation, queryCache } from 'react-query';\nimport api from \"../api\";\nimport { useNavigation } from \"@react-navigation/native\";\nexport function buscaUsuario() {\n  return _buscaUsuario.apply(this, arguments);\n}\nfunction _buscaUsuario() {\n  _buscaUsuario = _asyncToGenerator(function* () {\n    try {\n      var _useQuery = useQuery('usuario', _asyncToGenerator(function* () {\n          var resultado = yield api.get();\n          return resultado.data;\n        })),\n        data = _useQuery.data,\n        error = _useQuery.error,\n        isLoading = _useQuery.isLoading;\n      console.log(\"ðŸš€ ~ file: usuarios.js:14 ~ buscaUsuario ~ data, error, isLoading:\", data, error, isLoading);\n      return {\n        data: data,\n        error: error,\n        isLoading: isLoading\n      };\n    } catch (error) {\n      console.log(error);\n      return {};\n    }\n  });\n  return _buscaUsuario.apply(this, arguments);\n}\nexport var useBuscaUsuario = function useBuscaUsuario() {};\nexport function deletaUsuario(_x) {\n  return _deletaUsuario.apply(this, arguments);\n}\nfunction _deletaUsuario() {\n  _deletaUsuario = _asyncToGenerator(function* (id) {\n    try {\n      var resultado = yield api.delete(\"/deleteValor/\" + id);\n      return resultado.data;\n    } catch (error) {\n      console.log(error);\n      return error;\n    }\n  });\n  return _deletaUsuario.apply(this, arguments);\n}\nvar fetchFinancas = function () {\n  var _ref = _asyncToGenerator(function* () {\n    var resultado = yield api.get('/suaRotaDeBusca');\n    return resultado.data;\n  });\n  return function fetchFinancas() {\n    return _ref.apply(this, arguments);\n  };\n}();\nvar criaFinancas = function () {\n  var _ref2 = _asyncToGenerator(function* (body) {\n    var resultado = yield api.post('/informValor', body);\n    return resultado.data;\n  });\n  return function criaFinancas(_x2) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nvar useFinancas = function useFinancas() {\n  return useQuery('financas', fetchFinancas);\n};\nvar useCriaFinancas = function useCriaFinancas() {\n  var navigation = useNavigation();\n  return useMutation(criaFinancas, {\n    onSuccess: function onSuccess() {\n      navigation.navigate(\"Home\");\n    }\n  });\n};\nexport { useFinancas, useCriaFinancas };","map":{"version":3,"names":["useQuery","useMutation","queryCache","api","useNavigation","buscaUsuario","_buscaUsuario","apply","arguments","_asyncToGenerator","_useQuery","resultado","get","data","error","isLoading","console","log","useBuscaUsuario","deletaUsuario","_x","_deletaUsuario","id","delete","fetchFinancas","_ref","criaFinancas","_ref2","body","post","_x2","useFinancas","useCriaFinancas","navigation","onSuccess","navigate"],"sources":["C:/projetos/app-repos-github/src/service/reqs/usuarios.js"],"sourcesContent":["import { Alert } from \"react-native\";\r\nimport { useQuery, useMutation, queryCache } from 'react-query';\r\nimport api from '../api';\r\nimport { useNavigation } from \"@react-navigation/native\";\r\n\r\nexport async function buscaUsuario() {\r\n  try {\r\n    const { data, error, isLoading } = useQuery('usuario', async () => {\r\n      const resultado = await api.get();\r\n      return resultado.data;\r\n    });\r\n\r\n    console.log(\"ðŸš€ ~ file: usuarios.js:14 ~ buscaUsuario ~ data, error, isLoading:\", data, error, isLoading)\r\n\r\n    return { data, error, isLoading };\r\n\r\n  } catch (error) {\r\n    console.log(error);\r\n    return {};\r\n  }\r\n}\r\n\r\n\r\nexport const useBuscaUsuario = () => {\r\n\r\n};\r\n\r\n\r\n// export async function criaFinancas(body) {\r\n//   console.log(\"ðŸš€ ~ file: usuarios.js:15 ~ criaFinancas ~ body:\", body)\r\n//   try {\r\n//     const resultado = await api.post('/informValor', body);\r\n//     return resultado.data;\r\n//   } catch (error) {\r\n//     console.error(\"Erro em criaFinancas:\", error.message, error.response?.data);\r\n//     console.log(\"ðŸš€ ~ file: usuarios.js:19 ~ criaFinancas ~ error:\", error)\r\n//     Alert.alert(\"Erro\", error.message || \"Erro desconhecido\");\r\n//     return error\r\n//   }\r\n// }\r\n\r\nexport async function deletaUsuario(id) {\r\n  try {\r\n    const resultado = await api.delete(`/deleteValor/${id}`);\r\n    return resultado.data;\r\n  } catch (error) {\r\n    console.log(error);\r\n    return error\r\n  }\r\n}\r\n\r\nconst fetchFinancas = async () => {\r\n  const resultado = await api.get('/suaRotaDeBusca');\r\n  return resultado.data;\r\n};\r\n\r\nconst criaFinancas = async (body) => {\r\n  const resultado = await api.post('/informValor', body);\r\n  return resultado.data;\r\n};\r\n\r\nconst useFinancas = () => {\r\n  return useQuery('financas', fetchFinancas);\r\n};\r\n\r\nconst useCriaFinancas = () => {\r\n\r\n  const navigation = useNavigation();\r\n\r\n  return useMutation(criaFinancas, {\r\n    onSuccess: () => {\r\n      navigation.navigate(\"Home\")\r\n    },\r\n  });\r\n};\r\n\r\nexport { useFinancas, useCriaFinancas };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}